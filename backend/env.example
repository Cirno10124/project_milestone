############################################################
# Project Milestone Backend - 示例环境变量文件（可提交）
#
# 使用方法：
#   复制本文件为 backend/.env，然后按需修改
#
# 注意：
# - 仓库根目录 .gitignore 会忽略任何目录下的 .env 文件
# - 本文件不包含敏感值，仅提供变量名与示例
############################################################

# Server
PORT=3000
# 允许跨域的前端地址（支持逗号分隔多个 Origin）
# 示例（本机 + 局域网访问）：
# CORS_ORIGIN=http://localhost:5173,http://192.168.0.109:5173
# 开发兜底（不建议生产）：
# CORS_ORIGIN=*
CORS_ORIGIN=http://localhost:5173

# Database (MySQL)
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=password
DB_NAME=project_milestone

# Auth
JWT_SECRET=changeme

# Optional: 注册该用户名时，自动设置为超级管理员
SUPER_ADMIN_USERNAME=admin

############################################################
# Email Verification Code (Redis)
############################################################
# Redis connection (preferred)
REDIS_URL=redis://127.0.0.1:6379
# Or split config
# REDIS_HOST=127.0.0.1
# REDIS_PORT=6379
# REDIS_PASSWORD=

# Email code policy
EMAIL_CODE_TTL_SECONDS=600
EMAIL_CODE_COOLDOWN_SECONDS=60
EMAIL_CODE_MAX_ATTEMPTS=5
EMAIL_CODE_SECRET=email_code_secret_change_me

# Password reset token policy
PASSWORD_RESET_TOKEN_TTL_SECONDS=900

############################################################
# SMTP
############################################################
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_account@example.com
SMTP_PASS=your_password
FROM_EMAIL=your_account@example.com
FROM_NAME=Project Milestone

# Dev-only: 提权接口 /dev/make-super-admin
DEV_ADMIN_SECRET=dev_secret_change_me
# Dev-only: 非生产环境开启 header 调试打印（1=开启）
DEV_SECRET_DEBUG=0

